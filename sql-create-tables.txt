create table flowchart(
  flowchart_id integer primary key,
  name text(60)
);

create table node_type(
  node_type_id integer primary key,
  name text(20)
);

create table node(
  node_id integer, 
  flowchart integer, 
  code text, 
  type integer,
  primary key(node_id, flowchart),
  foreign key(type) references node_type(node_type_id),
  foreign key(flowchart) references flowchart(flowchart_id)
);

create table edge(
  edge_id integer,
  flowchart integer,
  source integer,
  target integer,
  branch bool,
  primary key(edge_id, flowchart),
  foreign key(flowchart) references flowchart(flowchart_id),
  foreign key(source) references node(node_id),
  foreign key(target) references node(node_id)
);
